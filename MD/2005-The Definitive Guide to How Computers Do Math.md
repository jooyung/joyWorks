# Do You Speak Martian?
[W] tome (tōm)
>tome - a (usually) large and scholarly book
- >book - a written work or composition that has been published (printed on pages bound together); *"I am reading a good book on economics"*

Sadly, however, it appears that the majority of these `tomes` are written by visitors from the planet Mars, whose keen understanding of higher mathematics is somewhat `offset` by their limited grasp of the English language.

[W] mull
>mull - reflect deeply on a subject; *"I mulled over the events of the afternoon"*; *"philosophers have speculated on the question of God for thousands of years"*; *"The scientist must stop to observe and start to excogitate"*
- =meditate, `mull over`, muse, ponder, chew over, think over, excogitate, reflect, ruminate, speculate, - contemplate
- >cerebrate, cogitate, think - use or exercise the mind or one's power of reason in order to make inferences, - decisions, or arrive at a solution or judgments; *"I've been thinking all day and getting nowhere"*
- >premeditate - think or reflect beforehand or in advance; *"I rarely premeditate, which is a mistake"*
- >theologise, theologize - make theoretical speculations about theology or discuss theological subjects
- >introspect - reflect on one's own thoughts and feelings
- >bethink - consider or ponder something carefully; *"She bethought her of their predicament"*
- >cogitate - consider carefully and deeply; reflect upon; turn over in one's mind
- wonder, question - place in doubt or express doubtful speculation; *"I wonder whether this was the right - thing to do"*; *"she wondered whether it would snow tonight"*
- >puzzle - be uncertain about; think about without fully understanding or being able to decide; *"We puzzled - over her sudden departure"*
- >consider, study - give careful consideration to; *"consider the possibility of moving"*

Much like reading *Being and Nothingness* by the famous French philosopher Jean Paul Sartre, `one could mull over` many of these cryptic masterpieces until the end of time without gaining so much as the faintest clue as to what was in their authors’ minds.
# Why This Book Is So Cool
## Fearsome Warriors or Slaves to Fashion?
## This Book Is Cool Because . . .
[W] dollop (dŏl′əp)
>dollop - a small measure (usually of food)    
- >small indefinite amount, small indefinite quantity - an indefinite quantity that is below average size or magnitude

Experts (the authors’ mothers in this case) agree that one of the best ways to learn something and remember it afterward is by means of hands-on experience, which you are poised to gain `in huge dollops` by using the virtual microcomputer/calculator that you’ll find on the CDROM accompanying this book.
## Jobs Abound for Time-Travelers
[W] yore (yôr)
>yore - time long past
past, past times, yesteryear - the time that has elapsed; *"forget the past"*

`In the days of yore`, when few people even knew how to count beyond the number of fingers on their hands, anyone who was capable of performing relatively rudimentary mathematical operations could easily achieve a position of power and standing in the community.

[W] vigesimal (vĭ-jĕs′ə-məl)
>relating to or based on the number twenty

Sometimes, fingers and toes in the case of societies that employed `vigesimal` (base-20) numbering systems.

[W] reckon with
>To take into account or deal with: a man to be reckoned with.

If you could predict and eclipse, for example, you wer obviously someone `to be reckoned with` (especially if it actually came to pass).
## Calculators Then and Now
[W] contraption (kən-trăp′shən)
>contraption - a device or control that is very useful for a particular job
- =gadget, appliance, contrivance, gismo, gizmo, widget, convenience
- >device - an instrumentality invented for a particular purpose; *"the device is small enough to wear on your - wrist"*; *"a device intended to conserve water"*
- >gadgetry - appliances collectively; *"laborsaving gadgetry"*
- >gimbal - an appliance that allows an object (such as a ship's compass) to remain horizontal even as its - support tips
- >injector - a contrivance for injecting (e.g., water into the boiler of a steam engine or particles into an - accelerator etc.)
- >mod con - modern convenience; the appliances and conveniences characteristic of a modern house

[W] diluvian diluvial (dĭ-lo͞o′vē-əl) (-ən)
>diluvian - of or connected with a deluge
- =diluvial

In many cases, objects like this prompt speculation that our `antediluvian` ancestors were the creators of complex mechanical calculators with which they could perform mathematical operations such as addition, subtraction, multiplication, and division.
## Déjà Vu (Didn’t Someone Just Say That?)
[W] déjà vu (dā′zhä vo͞o′)
>deja vu - the experience of thinking that a new situation had occurred before
- >reminder - an experience that causes you to remember something

The **accuracy** and **precision** (as we will discover, these are two different things) required by an accountant and a rocket scientist may be `poles aprt`.

Well, we are in danger of finding ourselves in a `déjà vu` situation, because *knowledge is power*, and very few folks actually have any clue as to what is going on behind the scenes with regard to the way in which computers and calculators perform even simple operations.

[W] cool beans
>okay; a humorous and light-hearted nonsense phrase indicating approval or mild excitement
- wow; "that's remarkable" or "great"

The really **"cool beans"** part of all of this is the virtual microcomputer/calculator on the CD-ROM accompanying this book.
##Why Is this Chapter Numbered “0”?
[W] wend (wĕnd)
>wend - direct one's course or way; *"wend your way through the crowds"*
- >go, locomote, move, travel - change location; move, travel, or proceed, also metaphorically; *"How fast does your new car go?"*; *"We travelled from Rome to Naples by bus"*; *"The policemen went from door to door looking for the suspect"*; *"The soldiers moved towards the city in an attempt to take it before night fell"*; *"news travelled fast"*

The reasons for this - and related conventions - will become apparent as we `wend our way through` the topics in this book.
# Introducing Binary and Hexadecimal Numbers
## Why Do We Need to Know this Stuff?
## Counting on Fingers and Toes
Thus, it is also no coincidence that the word **"calculate"** is derived from the Latin word for *pebble*.

[W] gross
In English and related languages, several terms involving the words "great" or "gross" (possibly, from French: grosse thick) relate to numbers involving *multiples of twelve (a dozen)*:

- A **gross** refers to a group of 144 items (a dozen dozen).
- A **great gross** refers to a group of 1728 items (a dozen gross).
- A **small gross** or a **great hundred** refers to a group of 120 items (ten dozen).
- A gross may be abbreviatied as "gr" or "gro".

This explains why we have special words like **dozen**, meaning "twelve", and **gross**, meaning "one hundred and forty-four" (12 x 12 = 144). The fact that we have 24 hours in a day (2 x 12) is also related to these base-12 systems.
## Place-Value Number Systems
Consider the concept of Roman numerals, in which I=1, V=5, X=10, L=50, C=100, D=500, M=1,000, and so forth.
## Using Powers or Exponents

- exponential form
- base
- exponent

### Counting in Decimal
### The Binary Number System
Sometime in the late l940s, the American chemist turned topologist turned statistician **John Wilder Tukey** realized that computers and the binary number system were destined to become increasingly important. In addition to coining the word **"software,"** Tukey decided that saying "binary digit" was `a bit of mouthful`, so he started to look for an alternative. He considered a variety of options, including *binit* and *bigit*, but eventually settled on **bit**, which is elegant in its simplicity and is used to this day.

Groupings of four bits are relatively common, so they are given the special name of **nybble** (or sometimes **nibble**). Similarly, groupings of eight bits are also common, so they are given the special name of **byte**. Thus, *"two nybbles make a byte,"* which goes to show that computer engineers do have a sense of humor (albeit not a tremendously sophisticated one).
## Counting in binary
[W] Thus, on the next count we reset the first column to 0, increment the second column to 1, and `proceed on our merry way` (Figure 1-5).
## Learning your binary “times tables”
[W] `Cast your mind back` through the mists of time to those `far-off days` in elementary (junior) school.
## Using Wires to Represent Numbers
## The Hexadecimal Number System
### Counting in hexadecimal
### Combining digits and column weights in hexadecimal
### Mapping between hexadecimal and binary
## Review
# Computers and Calculators
## Rampaging Around a Computer
## Memory Devices and I/O Ports

[W] appellation (ăp′ə-lā′shən)
>appellation - identifying word or words by which someone or something is called and classified or distinguished from others
- =appellative, designation, denomination
- >name - a language unit by which a person or thing is known; "his name really is George Washington"; "those are two names for the same thing"
- >street name - an alternative name that a person chooses or is given (especially in inner city neighborhoods); "her street name is Bonbon"
- >byname, cognomen, moniker, nickname, sobriquet, soubriquet - a familiar name for a person (often a shortened version of a person's given name); "Joe's mother would not use his nickname and always called him Joseph"; "Henry's nickname was Slim"
- >form of address, title of respect, title - an identifying appellation signifying status or function: e.g. `Mr.' or `General'; "the professor didn't like his friends to use his formal title"
- >title - an appellation signifying nobility; "`your majesty' is the appropriate title to use in addressing a king"

Some of us prefer to use the more meaningful `appellation` *read-write memory* (**RWM**), but there is little chance of this nomenclature becoming widely adopted.

## The Control, Data, and Address Busses
### The data bus
### The address bus
## Careening Around a Calculator

[W] careen (kə-rēn′)
>careen - walk as if unable to control one's movements; "The drunken man staggered into the room"
- =keel, lurch, reel, stagger, swag
- >walk - use one's feet to advance; advance by steps; "Walk, don't run!"; "We walked instead of driving"; "She walks with a slight limp"; "The patient cannot walk yet"; "Walk over to the cabinet"

`Careening' Around a Calculator

[W] coerce (kō-ûrs′)
>coerce - to cause to do through pressure or necessity, by physical, moral or intellectual means :"She forced him to take a job in the city"; "He squeezed her for information"
- =force, hale, pressure, squeeze
- >turn up the heat, turn up the pressure - apply great or increased pressure; "The Democrats turned up the heat on their candidate to concede the election"
- >drive - to compel or force or urge relentlessly or exert coercive pressure on, or motivate strongly; "She is driven by her passion"
- >bludgeon - overcome or coerce as if by using a heavy club; "The teacher bludgeoned the students into learning the math formulas"
- >steamroll, steamroller - bring to a specified state by overwhelming force or pressure; "The Senator steamrollered the bill to defeat"
- >squeeze for - squeeze someone for money, information, etc.
- >dragoon, railroad, sandbag - compel by coercion, threats, or crude means; "They sandbagged him to make dinner for everyone"
- >terrorise, terrorize - coerce by violence or with threats
- >compel, obligate, oblige - force somebody to do something; "We compel all students to fill out this form"
- >bring oneself - cause to undertake a certain action, usually used in the negative; "He could not bring himself to call his parents"

So what does it take to `coerce` a computer to adopt the role of a calculator?

[W] machination (măk′ə-nā′shən, măsh′-)
>machination - a crafty and involved plot to achieve your (usually sinister) ends
- =intrigue
- >plot, secret plan, game - a secret scheme to do something (especially something underhand or illegal); "they concocted a plot to discredit the governor"; "I saw through his little game from the start"
- >priestcraft - a derogatory reference to priests who use their influence to control secular or political affairs

However, in order for the computer to perfrom its cunning `machinations`, it requires a program, and creating this program requires us to decide on `the ways in which` we wish to represent and manipulate numbers.

## The DIY Calculator

[W] dollop (dŏl′əp)
>dollop - a small measure (usually of food)    
- >small indefinite amount, small indefinite quantity - an indefinite quantity that is below average size or magnitude

As we mentioned in Chapter 0, one of the best ways to learn something and remember it afterward is by means of hands-on ("fumble and stumble") experience, which you are about to gain in huge `dollops`.

[W] rapscallion (răp-skăl′yən)
>rapscallion - one who is playfully mischievous    
- =scamp, imp, monkey, rascal, scalawag, scallywag
- >child, kid, minor, nipper, tiddler, youngster, tike, shaver, small fry, nestling, fry, tyke - a young person of either sex; "she writes books for children"; "they're just kids"; "`tiddler' is a British term for youngster"
- >brat, holy terror, little terror, terror - a very troublesome child

`As fate would have it`, this little `rapscallion`, which was conceived and designed by the authos, comprises a calculator front panel (the user interface discussed in the previous section) connected to a simple general-purpose computer with a 16-bit address bus, an 8-bit data bus, some RAM and ROM, and a number of input and output ports.

[W] festoon (fĕ-sto͞on′)
festoon - decorate with strings of flowers; "The public buildings were festooned for the holiday"
- >adorn, decorate, grace, ornament, embellish, beautify - make more attractive by adding ornament, colour, etc.; "Decorate the room for the party"; "beautify yourself for the special day"

As you can see, the calculator front panel is `festooned` with buttons with which you are soon to become intimately acquainted.

[W] Note thtat the main display area `fills up with` "-" characters, indicating that it's in an unitialized state.

[W] Try clicking the calculator's 0 through 9 button, and note that nothing happens `whatsoever`.

## Interactive Laboratories
## Review
# Subroutines and Other Stuff
# Integer Arithmetic
# Creating an Integer Calculator
# More Functions and Experiments
# 7. Interactive Laboratories
## 2. CREATING AND RUNNING PROGRAMS
### 2a. Creating a Simple Program
#### The Memory Map

Addresses       | Function      | Front Panel
-----           | -----         | -----
$0000 - $3FFF   | ROM           |
$4000 - $EFFF   | RAM           |
$F000 - $F01F   | Input ports   | $F011
$F020 - $F03F   | Output ports  | $F031, $F032
$F040 - $FFFF   | Unused        |

#### The Accumulator (ACC)

[W] fray (frā)

1. A fight; a brawl. See Synonyms at brawl.
2. A heated dispute or intensely competitive situation: "Minneapolis became the latest battleground `in the fray` over bio-engineering as hundreds of protesters took to the streets" (Todd Wilkinson).
3. A military engagement; a battle.

>fray - a noisy fight                        
- =affray, ruffle, disturbance
- >fighting, combat, fight, scrap - the act of fighting; any contest or struggle; "a fight broke out at the hockey game"; "there was fighting in the streets"; "the unhappy couple got into a terrible scrap"

One other point of which we need to be aware befor plunging headfirst `into the fray` is that, among other things, our CPU contains an 8-bit register called the *accumulator (ACC)*.

[T] register: a group of memory elements, each of which can store a single binary digit.

#### The Program We’re About to Create
#### Entering and Assembling a Program

[W] excruciate (ĭk-skro͞o′shē-āt′)
>excruciate - torment emotionally or mentally      
- =torment, torture, rack
- >anguish, pain, hurt - cause emotional anguish or make miserable; "It pains me to see my children not being taught well in school"

However, this approach would be extremely time-consuming, `excruciatingly` boring, and terribly error-prone to say the least.

#### Loading and Running a Program

[W] delectation (dē′lĕk-tā′shən)
>delectation - a feeling of extreme pleasure or satisfaction; "his delight to see her was obvious to all"
- =delight
- >pleasure, pleasance - a fundamental feeling that is hard to define but that people desire to experience; "he was tingling with pleasure"
- >entrancement, ravishment - a feeling of delight at being filled with wonder and enchantment
- >amusement - a feeling of delight at being entertained
- >Schadenfreude - delight in another person's misfortune

For your `delectation` and delight (or if you just want to plunge in deeper), you will discover a wealth of additional information on the instruction set and assembly language on the CD-ROM accompanying this copy of How Computers Do Math.

#### More! More!
### 2b. Constant Labels and .EQU Directives
#### Making Program Listings MoreUser-Friendly
#### Using Constant Labels
#### Testing the New Program
#### A Few Simple Rules
### 2c. Driving the Calculator’s Main Display
#### Viewing the Interface asDiscrete Chunks
#### The Main Display’s Character Codes
#### The Status Register (SR)
#### Writing to the Main Display
#### Modifying the Program
#### Testing the Program
#### Just When You Started to Feel Happy
### 2d. Reading from the Calculator’s Keypad
#### Keypad Buttons and Codes
#### Reading Codes from the Keypad
#### Testing the Program
### 2e. Writing to the Calculator’s Six LEDs
#### The Calculator’s Six LEDs
#### Writing to the Six LEDs
#### Modifying the System Clock
### 2f. Using the Memory Walker and Other Diagnostic Displays
#### The Need for Diagnostic Tools
#### First We Need aDemonstration Program
#### Introducing the List File
#### The Memory Walker Display
##### Setting and using breakpoints
#### The CPU Register Display
#### The I/O Ports Display
#### The Message System Display
#### The String Generator Utility
# 3. SUBROUTINES AND OTHER STUFF
## 3a. Using Logical Instructions, Shifts, and Rotates
### Creating a Skeleton ASM File
### Are Your Codes the Sameas My Codes?
### Creating the Hex Display Program
### Creating a Binary Display Version
### Additional Exercises
## 3b. Understanding the Program Counter (PC)
### An Example Program Snippet
### Executing the LDA Instruction
### Executing the INCA Instruction
### Executing the JNZ Instruction
## 3c. Using the Index Register (X)
### Displaying Button Values in Order
### Displaying Button Values inReverse Order
### Accessing the IndexRegister’s Contents
### Using the Index Register as a Counter
### Additional Exercise
## 3d. Using the Stack and Stack Pointer (SP)
### A Simple Stack-Based Program
### Testing the Program
## 3e. Using Subroutines
### A Blast from the Past
### Subroutines to the Rescue
### Testing the Basic Subroutine
### Creating a Nested Version
### Testing the Nested Version
### Why Create the Nested Version?
## 3f. Using Recursion
### Creating the Subroutine
### Boggling the Mind
### Testing the Subroutine
### A Further Exercise
# 4. INTEGER ARITHMETIC
## 4a. Creating a Testbench Program
### Creating the Testbench Program
#### Copy your original skeleton routine
#### Modifying the initialization routine
#### Reserving global temporary data locationsand messages
#### Adding a GETNUM subroutine
#### Storing the return address
#### Reading and temporarily storing the key codes
#### Converting the key codes into a binary number
#### Retrieving the return address
#### Improving on our subroutine
#### Adding a DISPNUM subroutine
#### Adding a DISPERR subroutine
#### Creating the body of the program
### Testing the Testbench Program
## 4b. Creating a 16-bit ADD Subroutine
### Before We Start
### The 16-bit _ADD Subroutine Itself
#### Storing the return address
#### Retrieving the numbers to be added from the stack
#### Actually performing the addition
#### Testing for errors
#### Retrieving the return address
### Creating and Debugging the_ADD Routine
### Modifying the Testbench to Call the_ADD Routine
### Using the Testbench to Test the Routine
### Further Modifications
## 4c. Creating a 16-bit SUBTRACT Subroutine
### The 16-bit _SUB Subroutine Itself
### Creating and Debugging the_SUB Routine
### Modifying the Testbench to Call the_SUB Routine
### Using the Testbench to Test the Routine
## 4d. Creating a 16-bit NEGATE Subroutine
### The 16-bit _NEG Subroutine Itself
### Creating and Debuggingthe _NEG Routine
### Modifying the Testbench to Callthe _NEG Routine
### Using the Testbench to Test the Routine
## 4e. Checking for Overflow in the ADD and SUBTRACT Routines
### Testing for –32,768
#### Devising a subroutine to check for –32,768
#### Creating and debugging the routine
### Modifying the _ADD Routine
### Testing the Modified _ADD Routine
### Modifying the _SUB Routine
### Testing the Modified _SUB Routine
## 4f. Creating a 16-bit MULTIPLY Subroutine
### A Little Thought Experiment
#### Some cunning tricks
### The 16-bit _MULT Subroutine Itself
#### Retrieving and storing the return address
#### Retrieving and storing the multiplicand
#### Retrieving and storing the multiplier
#### Inverting the multiplicand (if necessary)
#### Inverting the multiplier (if necessary)
#### Two housekeeping tasks
#### The main multiplication loop
#### Checking the size of the result
#### Correcting the sign of the result
#### Saving the result and exiting the subroutine
### Creating and Debugging the_MULT Routine
### Modifying the Testbench to Call the_MULT Routine
### Using the Testbench to Test the Routine
## 4g. Creating a 16-bit DIVIDE Subroutine
### Another Little Thought Experiment
#### A few cunning tricks
#### Try it for yourself
#### Rounding
#### Sign correction
### The 16-bit _DIV Subroutine Itself
#### Retrieving and storing the return address
#### Retrieving and storing the divisor
#### Testing for a “divide by zero”
#### Retrieving and storing the dividend
#### Inverting the divisor (if necessary)
#### Inverting the dividend (if necessary)
#### The main division loop
#### Performing a round-half-even
#### Correcting the sign of the result
#### Saving the result and exiting the subroutine
### Creating and Debuggingthe _DIV Routine
### Modifying the Testbench to Call the_DIV Routine
### Using the Testbench to Test the Routine
# 5. CREATING AN INTEGER CALCULATOR
## 5a. Creating the Calculator Framework
### Creating the Framework Program
#### Building a skeleton framework
#### Adding constant declarations
#### Adding the initialization statements
#### Reserving placeholders for subroutines
#### Reserving global temporary data locationsand messages
## 5b. Adding Some Low-Level Utility Routines
### Adding the GETSTUFF Routine
#### Implications with regard to the usage model
### Adding the DISPERR Routine
### Adding the _NOTYET Routine
### Adding the CHK2NEG Routine
## 5c. Creating a Decimal GETNUM(“Get Number”) Routine
### Introducing the GETNUM Routine
#### Another cunning trick
#### The GETNUM routine itself
#### Adding the GETNUM routine into the framework
## 5d. Creating a Decimal DISPNUM(“Display Number”) Routine
### Introducing the DISPNUM Routine
#### Yet another cunning ploy
#### The DISPNUM routine itself
#### The nested _DN_NEST routine
#### Adding the DISPNUM routine into the framework
## 5e. Implementing a Four-Function Integer Calculator
### Inserting the Math Subroutines
### Creating the Body of theCalculator Program
### Testing the Calculator Program
### Enhancing the Calculator Program
#### A simple error check
#### Activating the Back, CE, and Clear keys
#### Adding binary and hexadecimal input and display
#### Changing the usage model